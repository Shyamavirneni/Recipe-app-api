---
name: checks

on:[push]

jobs:
  test-limit:
  name: test and lint
    runs-on: ubuntu-latest
      steps:
        -name: Login to DockerHub
          uses: docker/login-action@v1
          with:
            username: ${{ secrets.DOCKER_USER }}
            password: ${{ secrets.DOCKER_TOKEN }}
        -name: Checkout code
          uses: actions/checkout@v2
        -name: test
        run: docker-compose run --rm app sh -c "python manage.py test"
        -name: lint
          run: docker-compose run --rm app sh -c "flake8 ."